name: Logs
description: ''
endpoints:
  -
    httpMethods:
      - GET
    uri: api/v1/logs
    metadata:
      groupName: Logs
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Lista os logs de auditoria aplicando filtros e paginação.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer {ACCESS_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      model:
        name: model
        description: 'Nome completo (FQCN) do modelo monitorado. Must not be greater than 255 characters.'
        required: false
        example: App\Models\Produto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      model_id:
        name: model_id
        description: 'Filtra pelos registros relacionados ao identificador informado. Must be at least 1.'
        required: false
        example: 21
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      action:
        name: action
        description: 'Tipo de ação executada (create, update ou delete).'
        required: false
        example: update
        type: string
        enumValues:
          - create
          - update
          - delete
        exampleWasSpecified: false
        nullable: true
        custom: []
      user_id:
        name: user_id
        description: 'Identificador do usuário responsável pela ação. Must be at least 1.'
        required: false
        example: 5
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      from:
        name: from
        description: 'Considerar registros a partir desta data (YYYY-MM-DD). Must be a valid date.'
        required: false
        example: '2024-07-01'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      to:
        name: to
        description: 'Considerar registros até esta data (YYYY-MM-DD). Must be a valid date. Must be a date after or equal to <code>from</code>.'
        required: false
        example: '2024-07-15'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      per_page:
        name: per_page
        description: 'Quantidade de registros por página (1-100). Must be at least 1. Must not be greater than 100.'
        required: false
        example: 20
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
    cleanQueryParameters:
      model: App\Models\Produto
      model_id: 21
      action: update
      user_id: 5
      from: '2024-07-01'
      to: '2024-07-15'
      per_page: 20
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "data": [
              {
                "id": 10,
                "action": "update",
                "model": "App\\Models\\Produto",
                "model_id": 21,
                "data": {"preco":{"old":299.9,"new":349.9}},
                "user_id": 5,
                "created_at": "2024-07-12T08:43:27Z",
                "updated_at": "2024-07-12T08:43:27Z"
              }
            ],
            "links": {
              "first": "http://localhost/api/v1/logs?page=1",
              "last": "http://localhost/api/v1/logs?page=3",
              "prev": null,
              "next": "http://localhost/api/v1/logs?page=2"
            },
            "meta": {
              "current_page": 1,
              "from": 1,
              "last_page": 3,
              "path": "http://localhost/api/v1/logs",
              "per_page": 20,
              "to": 20,
              "total": 50
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields:
      'data[].id':
        name: 'data[].id'
        description: 'Identificador do log.'
        required: false
        example: null
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'data[].action':
        name: 'data[].action'
        description: 'Ação executada.'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'data[].model':
        name: 'data[].model'
        description: 'Classe do modelo associado.'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'data[].model_id':
        name: 'data[].model_id'
        description: 'Identificador do registro associado.'
        required: false
        example: null
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'data[].data':
        name: 'data[].data'
        description: 'Payload capturado no log.'
        required: false
        example: null
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'data[].user_id':
        name: 'data[].user_id'
        description: 'Usuário responsável pela ação (quando disponível).'
        required: false
        example: null
        type: integer|null
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'data[].created_at':
        name: 'data[].created_at'
        description: 'Data de criação do log (ISO 8601).'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'data[].updated_at':
        name: 'data[].updated_at'
        description: 'Data da última atualização do log (ISO 8601).'
        required: false
        example: null
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
